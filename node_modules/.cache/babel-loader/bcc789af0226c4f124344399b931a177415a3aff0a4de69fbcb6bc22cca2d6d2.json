{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ganis\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\magictap\\\\src\\\\Profile.js\";\nimport React, { Component } from \"react\";\nimport Expanded from \"../src/Assets/ExpandedInsurence.jpg\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchData = async () => {\n      const token = localStorage.getItem(\"accessToken\");\n      try {\n        const response = await fetch(\"http://195.210.47.82:8000/auth/me/\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        const data = await response.json();\n        this.setState({\n          userData: data,\n          loading: false\n        });\n      } catch (error) {\n        this.setState({\n          error: error.message,\n          loading: false\n        });\n      }\n    };\n    this.state = {\n      userData: null,\n      error: null,\n      loading: true\n    };\n  }\n  componentDidMount() {\n    this.fetchData();\n  }\n  render() {\n    const {\n      userData,\n      error,\n      loading\n    } = this.state;\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 14\n      }, this);\n    }\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"profile__title\",\n        children: \"My Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"profile\",\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"profile__content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile__content__about\",\n            id: \"about\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: Expanded,\n              alt: \"profile-img\",\n              className: \"profile__content--img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"profile__content--title\",\n              children: [userData.first_name, \" \", userData.last_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"profile__content--count\",\n              children: [\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0411\\u043E\\u043D\\u0443\\u0441\\u043E\\u0432: \", userData.coins]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile__content__benefits\",\n            id: \"chosen_benefits\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"profile__content--chosen\",\n              children: \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u0435 \\u041B\\u044C\\u0433\\u043E\\u0442\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: userData.orders.map((order, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Date:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 23\n                  }, this), \" \", order.date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: order.facilities.map((facility, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Name:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 82,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                        className: \"profile__content--name\",\n                        children: facility.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 83,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Description:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 88,\n                        columnNumber: 29\n                      }, this), \" \", facility.description]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Expired Date:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 91,\n                        columnNumber: 29\n                      }, this), \" \", facility.expired_date]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Cost:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 29\n                      }, this), \" \", facility.cost]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Category:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 29\n                      }, this), \" \", facility.category]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 27\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default Profile;","map":{"version":3,"names":["React","Component","Expanded","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","constructor","props","fetchData","token","localStorage","getItem","response","fetch","headers","Authorization","ok","Error","data","json","setState","userData","loading","error","message","state","componentDidMount","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className","id","src","alt","first_name","last_name","coins","orders","map","order","index","date","facilities","facility","idx","name","description","expired_date","cost","category"],"sources":["C:/Users/ganis/OneDrive/Рабочий стол/magictap/src/Profile.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport Expanded from \"../src/Assets/ExpandedInsurence.jpg\";\r\n\r\nclass Profile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userData: null,\r\n      error: null,\r\n      loading: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = async () => {\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    try {\r\n      const response = await fetch(\"http://195.210.47.82:8000/auth/me/\", {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Network response was not ok\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      this.setState({ userData: data, loading: false });\r\n    } catch (error) {\r\n      this.setState({ error: error.message, loading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { userData, error, loading } = this.state;\r\n\r\n    if (loading) {\r\n      return <div>Loading...</div>;\r\n    }\r\n\r\n    if (error) {\r\n      return <div>Error: {error}</div>;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <h1 className=\"profile__title\">My Profile</h1>\r\n\r\n        <section className=\"profile\">\r\n          <section className=\"profile__content\">\r\n            <div className=\"profile__content__about\" id=\"about\">\r\n              <img\r\n                src={Expanded}\r\n                alt=\"profile-img\"\r\n                className=\"profile__content--img\"\r\n              />\r\n              <h1 className=\"profile__content--title\">\r\n                {userData.first_name} {userData.last_name}\r\n              </h1>\r\n              <h2 className=\"profile__content--count\">\r\n                Количество Бонусов: {userData.coins}\r\n              </h2>\r\n            </div>\r\n\r\n            <div className=\"profile__content__benefits\" id=\"chosen_benefits\">\r\n              <h1 className=\"profile__content--chosen\">Выбранные Льготы</h1>\r\n              <ul>\r\n                {userData.orders.map((order, index) => (\r\n                  <li key={index}>\r\n                    <p>\r\n                      <strong>Date:</strong> {order.date}\r\n                    </p>\r\n                    <ul>\r\n                      {order.facilities.map((facility, idx) => (\r\n                        <li key={idx}>\r\n                          <p>\r\n                            <strong>Name:</strong>\r\n                            <h1 className=\"profile__content--name\">\r\n                              {facility.name}\r\n                            </h1>\r\n                          </p>\r\n                          <p>\r\n                            <strong>Description:</strong> {facility.description}\r\n                          </p>\r\n                          <p>\r\n                            <strong>Expired Date:</strong>{\" \"}\r\n                            {facility.expired_date}\r\n                          </p>\r\n                          <p>\r\n                            <strong>Cost:</strong> {facility.cost}\r\n                          </p>\r\n                          <p>\r\n                            <strong>Category:</strong> {facility.category}\r\n                          </p>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </section>\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}